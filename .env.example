# Cogni Git Review Bot - Environment Configuration
# Copy this file to .env and fill in your values
# All variables are validated using Zod schemas on startup

# === REQUIRED VARIABLES ===

# GitHub App Configuration (Required)
APP_ID=your_github_app_id
# Private key from your GitHub App (paste entire .pem file contents)  
PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nyour_private_key_here\n-----END RSA PRIVATE KEY-----"

# Development: Webhook proxy for local testing (Required)
# Go to https://smee.io/new and set this to the URL you're redirected to
WEBHOOK_PROXY_URL_GITHUB=https://smee.io/your_channel
WEBHOOK_SECRET_GITHUB=your_webhook_secret

# GitLab Webhook Configuration (you generate the secret when you create the webhook)
WEBHOOK_SECRET_GITLAB=your_webhook_secret_here
WEBHOOK_PROXY_URL_GITLAB=https://smee.io/your_gitlab_channel

# GitLab Configuration (Required for GitLab integration)
# GitLab Personal Access Token for API access (PoC implementation)
GITLAB_PAT=your_gitlab_personal_access_token

# GitLab instance URL (optional, defaults to https://gitlab.com)
# GITLAB_BASE_URL=https://gitlab.yourcompany.com

# GitLab OAuth Configuration (Future implementation)
# GITLAB_OAUTH_APPLICATION_ID=
# GITLAB_OAUTH_APPLICATION_SECRET=
# OAuth callback URL: https://your-app-domain.com/auth/gitlab/callback



# AI Provider Configuration (Required)  
OPENAI_API_KEY=your_openai_api_key

# === OPTIONAL VARIABLES ===

# Node.js Environment (defaults: NODE_ENV=development, APP_ENV=dev)
# NODE_ENV=development
# APP_ENV=preview  # Uncomment to run preview-like e2e tests locally (affects model selection)

# Service Configuration (default: PORT=3000)
# PORT=3000

# Logging Configuration (default: LOG_LEVEL=info)
# LOG_LEVEL=info

# AI Tracing (Langfuse) - All three must be set together or all left empty
LANGFUSE_PUBLIC_KEY=pk-lf-...
LANGFUSE_SECRET_KEY=sk-lf-...
LANGFUSE_BASE_URL=https://cloud.langfuse.com  # ðŸ‡ªðŸ‡º EU region
# LANGFUSE_BASE_URL=https://us.cloud.langfuse.com  # ðŸ‡ºðŸ‡¸ US region

# Centralized Logging (Loki) - Not necessary for Dev. Primarily for testing telemetry features. All three must be set together or all left empty  
# LOKI_URL=https://logs-prod-021.grafana.net
# LOKI_USER=1353279  
# LOKI_TOKEN=glc_eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...

# E2E Testing Configuration
TEST_REPO=<user-id>/test-repo
TEST_REPO_GITHUB_PAT=your_github_token

# GitLab E2E Testing Configuration
GITLAB_E2E_TEST_REPO_PAT=glpat-your_gitlab_token_here
GITLAB_E2E_TEST_REPO=cogni-dao/test/test-repo
GITLAB_E2E_APP_DEPLOYMENT_URL=https://your-cogni-deployment.com
# GITLAB_E2E_WEBHOOK_TIMEOUT_MS=120000  # Optional: timeout for webhook processing (default: 120000)
# GITLAB_E2E_POLL_INTERVAL_MS=5000      # Optional: polling interval for status checks (default: 5000)