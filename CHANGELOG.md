# Changelog

## 1.0.0 (2025-09-27)


### âš  BREAKING CHANGES

* Remove SHA parameter from loadRepoSpec() to prevent PRs from modifying their own validation rules.

### security

* enforce spec loading from default branch only ([7cfac56](https://github.com/Cogni-DAO/cogni-git-review/commit/7cfac56d5cbfe9af0356269a16bbc140c95c25c4))


### Features

* add CODEOWNERS template with repository owner customization ([2877c93](https://github.com/Cogni-DAO/cogni-git-review/commit/2877c936525ab2dd546fe10c21b24baf2e61c832))
* add contract test for installation flow ([47e5bbf](https://github.com/Cogni-DAO/cogni-git-review/commit/47e5bbfd6419311b70635370aad78cc35cae24b5))
* add event-driven external gates integration ([2805821](https://github.com/Cogni-DAO/cogni-git-review/commit/2805821634a3bb94752e639215c32836282e8c18))
* add external gates foundation infrastructure ([1d95d4a](https://github.com/Cogni-DAO/cogni-git-review/commit/1d95d4a827d72085f1e8583002220c5046a4010b))
* add external gates foundation infrastructure ([a96178c](https://github.com/Cogni-DAO/cogni-git-review/commit/a96178cb28a8a7642670102b79beff31235f0d3e))
* add external gates integration ([28d0b1a](https://github.com/Cogni-DAO/cogni-git-review/commit/28d0b1aaf057ad749126fb662c7712d7257d33a4))
* add github actions workflows from our template rails directory ([3e74c58](https://github.com/Cogni-DAO/cogni-git-review/commit/3e74c58c40cc5dfa88c8611b27feaee78b7a5d37))
* add GitHub Actions workflows to welcome PRs ([72b5e70](https://github.com/Cogni-DAO/cogni-git-review/commit/72b5e70b9f88d5463586a3a05f44f963552d8969))
* add GitHub security features to manual setup script ([0676be1](https://github.com/Cogni-DAO/cogni-git-review/commit/0676be1237459f52fa7d4771026a986d25e8285d))
* add goal-alignment rule with inline prompt ([d846dcf](https://github.com/Cogni-DAO/cogni-git-review/commit/d846dcf9d9a4d917269a311120f7df621693df52))
* add manual branch protection fallback to welcome PRs ([1bdc5ae](https://github.com/Cogni-DAO/cogni-git-review/commit/1bdc5aea447f24a3c01103f00c18f7125d57cd80))
* add MVP governance policy gate with new tests ([fcc570b](https://github.com/Cogni-DAO/cogni-git-review/commit/fcc570bcd3f6231edc60db7f1530c70657bbac35))
* add MVP PR comment summary ([eaad68e](https://github.com/Cogni-DAO/cogni-git-review/commit/eaad68e7ae1bfcdfc32d84f058dd91f0e26555d8))
* add preview deployment environment ([584d627](https://github.com/Cogni-DAO/cogni-git-review/commit/584d6274bf846f02fd711c574768b4b876fd3bea))
* add production deployment pipeline for DigitalOcean ([f102392](https://github.com/Cogni-DAO/cogni-git-review/commit/f10239231a72bfdc4a28407ab366f02fb4888847))
* add repo spec support and loader\n\n- add .cogni/repo-spec.yaml and template\n- implement src/spec-loader.js and wire into index.js\n- update package.json and lockfile\n- add tests and fixtures ([f15ffc9](https://github.com/Cogni-DAO/cogni-git-review/commit/f15ffc99dd065d8fad77e2a89ccd0961aa9f4955))
* add Repolinter repository policy enforcement ([7e95938](https://github.com/Cogni-DAO/cogni-git-review/commit/7e959384e263a37cce4e63809533514c15239d04))
* add workflow_dispatch for testing and set deploy_on_push:false ([2d2f89a](https://github.com/Cogni-DAO/cogni-git-review/commit/2d2f89aab00070f93049cbe7b022387c4f781e00))
* CLAUDE.md and claude commands, modeled directly from CogniDAO-memory repo. https://github.com/derekg1729/CogniDAO-Memory/blob/main/.claude/commands/eval.md ([d257f07](https://github.com/Cogni-DAO/cogni-git-review/commit/d257f077a217508fbc32fdd2f2813e6b166bdcc8))
* enable agents-md-sync gate in repo-spec ([905ea9c](https://github.com/Cogni-DAO/cogni-git-review/commit/905ea9c558a0cfd6b7c875eac31b2835009c7ec2))
* enable ESLint external gate with complete MVP configuration ([faf9fd8](https://github.com/Cogni-DAO/cogni-git-review/commit/faf9fd8b89e774ced477f7754503840f4384d76c))
* enable ESLint external gate with complete MVP configuration ([dae0bd7](https://github.com/Cogni-DAO/cogni-git-review/commit/dae0bd7304a1a878b5287920d05b9a54c21ec849))
* harden gate launcher with timeout handling and fix critical orchestrator issues ([2835ede](https://github.com/Cogni-DAO/cogni-git-review/commit/2835ede1c0cad0b97005f07f3f4acee8e2507cbc))
* hardened E2E and promotion workflows ([5f32e8e](https://github.com/Cogni-DAO/cogni-git-review/commit/5f32e8ef29836d878be53a00ae43d59452929d3b))
* implement agents-md-sync gate for AGENTS.md synchronization ([e5e5971](https://github.com/Cogni-DAO/cogni-git-review/commit/e5e5971969c5874fb8b8bfa7c2d7ad2a9aca3f96))
* implement code-aware AI gate enhancement ([2076946](https://github.com/Cogni-DAO/cogni-git-review/commit/207694630369d9762ee14548776718a86fc9a174))
* implement list-of-gates architecture with dynamic gate discovery ([cb3b241](https://github.com/Cogni-DAO/cogni-git-review/commit/cb3b2416e474cca00d1c0949790e502de2ae682b))
* implement MVP LangGraph ReAct agent for AI rule evaluation ([45d05e7](https://github.com/Cogni-DAO/cogni-git-review/commit/45d05e74790a4915cb691737b29481edfae7ee32))
* implement per-environment check names with production lock ([e7e2bac](https://github.com/Cogni-DAO/cogni-git-review/commit/e7e2bacf50fa308a074f42d0865f262ced199375))
* implement registry-based dynamic gate launcher ([ed82ebb](https://github.com/Cogni-DAO/cogni-git-review/commit/ed82ebb7b35263b439e14251ba8371d6872fade3))
* implement tri-state gate orchestration with stub gates ([51eff43](https://github.com/Cogni-DAO/cogni-git-review/commit/51eff4303359cefec00c15b0573d19a6feea5be2))
* implement type + id gate architecture for multiple AI rule instances ([6a8a867](https://github.com/Cogni-DAO/cogni-git-review/commit/6a8a86777cf707437318c57c27618fc8d443f723))
* implement typed error codes for better classification ([6da11c7](https://github.com/Cogni-DAO/cogni-git-review/commit/6da11c78f57058ba0cb35e15a9ba6356fde8c7fa))
* implement verbose review summary with detailed per-gate sections ([2ed3c5a](https://github.com/Cogni-DAO/cogni-git-review/commit/2ed3c5aa054ef5d812d51847280a1ff5b90cca34))
* improve AI gate display in PR comments and detailed summaries ([c8e9a34](https://github.com/Cogni-DAO/cogni-git-review/commit/c8e9a342e099d5672ebc706d5ab9b70a403e2193))
* makefile commands for configuring Cogni Git PR Review as a required check for main. updating docs for it ([f32856d](https://github.com/Cogni-DAO/cogni-git-review/commit/f32856d38ad8add324f2c524d8c8c67b860a676c))
* migrate repo-spec format from enable array to single rule_file ([7a259c8](https://github.com/Cogni-DAO/cogni-git-review/commit/7a259c8f3376081d7bb974e6c6967a9f1532f092))
* Multiple AI Rules Support ([eaa1967](https://github.com/Cogni-DAO/cogni-git-review/commit/eaa1967b92a0f516263bf80e77e546b852dac663))
* proper AI provider + workflow scaffolding for simple statement evaluation AI rule ([812d33b](https://github.com/Cogni-DAO/cogni-git-review/commit/812d33b6bd13c732327e21fc3f13e3802e170871))
* refine MVP E2E test infrastructure ([fd3a27c](https://github.com/Cogni-DAO/cogni-git-review/commit/fd3a27c14312b9e984360521e22e3494268cc5c8))
* remove external gates architecture completely ([8b5393f](https://github.com/Cogni-DAO/cogni-git-review/commit/8b5393f105f57a089f442c4f5b828ee045568521))
* simplify environment-aware check names (remove CHECK_NAME override) ([8bfa9fb](https://github.com/Cogni-DAO/cogni-git-review/commit/8bfa9fb091d03240a3ccac4bb873517a1e296612))
* update repo-spec version 0.1.3 to enable single rule_file for rules gate ([e328510](https://github.com/Cogni-DAO/cogni-git-review/commit/e3285102eb834c8d46d62bd16c29b42914eb4a8d))
* updating probot default naming -&gt; Git Cogni v1 ([8192cc5](https://github.com/Cogni-DAO/cogni-git-review/commit/8192cc55c781dc04a31dad652bb2c49f1d320a39))
* updating probot default naming -&gt; Git Cogni v1 ([754ddb2](https://github.com/Cogni-DAO/cogni-git-review/commit/754ddb23bbdae74f6c1de251b1bed62aca033458))
* use global constant for PR_REVIEW_NAME ([31587ac](https://github.com/Cogni-DAO/cogni-git-review/commit/31587ac730c9544955d1725dd83660e1e530a372))
* **wip:** E2E testing system with GitHub Actions integration ([6b076b7](https://github.com/Cogni-DAO/cogni-git-review/commit/6b076b7e9be107f4b021f62cb37955a4644f52eb))
* **wip:** preview deployment github environment. update DO app spec name ([241b976](https://github.com/Cogni-DAO/cogni-git-review/commit/241b9765a209e7a256ae29d13221d17b1bac0772))
* **wip:** replace prod deployment job+spec with  preview deployment job and app spec. draft 1: using known good prod secrets ([2679c75](https://github.com/Cogni-DAO/cogni-git-review/commit/2679c75ea952863d0bcbc04e6e91a110ac05b67a))


### Bug Fixes

* add git auth setup step to preview E2E workflow ([527ab9d](https://github.com/Cogni-DAO/cogni-git-review/commit/527ab9d8d5633de8313a6bcd64b6484f5b0d38d1))
* add pull_request.reopened event handler and add rerun test ([753076c](https://github.com/Cogni-DAO/cogni-git-review/commit/753076c136934326d19689828a60432a0b752b7d))
* add YAML linting and fix syntax error in rule spec ([f9217bd](https://github.com/Cogni-DAO/cogni-git-review/commit/f9217bdb072133ba11dead303e1d47f8727023e8))
* add YAML linting and fix syntax error in rule spec ([606275b](https://github.com/Cogni-DAO/cogni-git-review/commit/606275b708179d5d52d97ebe3a14c18b4a9e4d53))
* **ci:** improve Repolinter integration in workflow template ([1d606fb](https://github.com/Cogni-DAO/cogni-git-review/commit/1d606fb531c724d3a2bb4e89c7ea37ebcb52b232))
* consolidate rule validation and fix threshold check order ([3cb1a24](https://github.com/Cogni-DAO/cogni-git-review/commit/3cb1a248cfb7e9ca3f54964f95efe8a53c074180))
* correct typo in ai-provider test ([c2f9b52](https://github.com/Cogni-DAO/cogni-git-review/commit/c2f9b5280575cdbaca5f65842a1579c6af743422))
* **e2e:** authenticate gh + setup git creds so PAT-backed git push works in preview ([7604594](https://github.com/Cogni-DAO/cogni-git-review/commit/76045949e4ed5b14b112b9b972c5915b552cefc7))
* gate registry export mismatch ([9c3cc73](https://github.com/Cogni-DAO/cogni-git-review/commit/9c3cc73a8b9abaf7d0a5f74c12113c1ca4eae520))
* improve linting setup with proper GitHub Actions support ([5b0f7c0](https://github.com/Cogni-DAO/cogni-git-review/commit/5b0f7c01df5b8a1eab674e38e87cc216ae203291))
* improve messaging when 0 gates configured ([bf4f3b4](https://github.com/Cogni-DAO/cogni-git-review/commit/bf4f3b42fd2b98be6f967eb3717dc24a68b3221b))
* improve promotion workflow reliability and clarity ([fc67f71](https://github.com/Cogni-DAO/cogni-git-review/commit/fc67f71587260f101de2d77d1b8f7c965e3f452c))
* install actionlint in CI workflow ([7e105dc](https://github.com/Cogni-DAO/cogni-git-review/commit/7e105dce486bc6eaf0ad634b9f69d2cda31a7692))
* make welcome PR creation fully idempotent ([3b68d0c](https://github.com/Cogni-DAO/cogni-git-review/commit/3b68d0c5d9628a757f571464e2f55173129fc22f))
* mismatch env secret name OPENAI_API_KEY ([6c2b611](https://github.com/Cogni-DAO/cogni-git-review/commit/6c2b6115bf1aa99c06a91f4ff3b46d239822c37b))
* preserve AI rule observations in gate normalization ([f172f30](https://github.com/Cogni-DAO/cogni-git-review/commit/f172f30b0035a5b1679656ff1a4bb894c32c6f38))
* remove check_presentation name from spec and template, and update ([cff1a77](https://github.com/Cogni-DAO/cogni-git-review/commit/cff1a77d646303a581f2e5d0ceaf28dd606328df))
* remove confusing and unused skip_deploy_check input ([b1478db](https://github.com/Cogni-DAO/cogni-git-review/commit/b1478dba4634f393999773503ac396efe774f4c6))
* remove duplicate documentation files ([f7b3d23](https://github.com/Cogni-DAO/cogni-git-review/commit/f7b3d239249718dcf5d4f9b367971e76133b579c))
* remove duplicate documentation files ([be1b03d](https://github.com/Cogni-DAO/cogni-git-review/commit/be1b03dfe833bf128aae96430b4786d6c6d6074c))
* remove unsupported --reporter flag from CI test command ([3303a66](https://github.com/Cogni-DAO/cogni-git-review/commit/3303a666baf45712546fef77f6fb1e21caebf127))
* remove unused gateConfig parameter from governance-policy gate ([df49990](https://github.com/Cogni-DAO/cogni-git-review/commit/df4999029587ab5f33806e5261b85e3948566e59))
* remove unused variables from summary-adapter.js ([9cd15c0](https://github.com/Cogni-DAO/cogni-git-review/commit/9cd15c06c2e93d7eeeef244edab1df15eb0a3e20))
* rename integration -&gt; service tests. Update AGENTS.md to indicate current shortcomings with the implementation ([cf41c90](https://github.com/Cogni-DAO/cogni-git-review/commit/cf41c90668822e669f3e0044b98e5d9b0a7479be))
* rename match variable to cogni_results for clarity ([72e850e](https://github.com/Cogni-DAO/cogni-git-review/commit/72e850e67c95c49b827c2dcf5c5a1ff5bb50ac63))
* replace direct hasOwnProperty access with safe call pattern ([307110f](https://github.com/Cogni-DAO/cogni-git-review/commit/307110f504e6752e6a371001cdbbc24e8b954cf6))
* repo-spec version, and remove unintentional re-addition of check name ([81d2b64](https://github.com/Cogni-DAO/cogni-git-review/commit/81d2b64afeae04febedb833791399066402c7ac4))
* report neutral when 0 gates run due to spec incompatibility ([1aeb02e](https://github.com/Cogni-DAO/cogni-git-review/commit/1aeb02e91c440bf82a7d8e623833ed1a17bfcf71))
* rerun handler now delegates to PR handler instead of using checkStateMap ([02e27b2](https://github.com/Cogni-DAO/cogni-git-review/commit/02e27b24c146c9cdd9637fbdc4c5f6c6a016f59b))
* resolve GH_TOKEN guardrail preventing git auth in E2E workflow ([1fb035e](https://github.com/Cogni-DAO/cogni-git-review/commit/1fb035e9ab8713de74995e49728bf0b43d5b4942))
* resolve remaining linting issues in ai-rule-input-validation.test.js ([4c640f4](https://github.com/Cogni-DAO/cogni-git-review/commit/4c640f46249f391a0a48392c925863bd6d532552))
* rules gate registry format mismatch and test organization ([91143a7](https://github.com/Cogni-DAO/cogni-git-review/commit/91143a74382c1d852c1a0f79a7b39d6977f56e27))
* set temperature=0 for deterministic AI evaluations ([ae5af1b](https://github.com/Cogni-DAO/cogni-git-review/commit/ae5af1bb479137bb498633a54ebb5a72b40312a1))
* show all violations per failed gate in PR comments ([ac772ff](https://github.com/Cogni-DAO/cogni-git-review/commit/ac772ff45e8b35bca82bd4d0dce00e354edc2ba4))
* simplify branch protection setup script ([80cacf6](https://github.com/Cogni-DAO/cogni-git-review/commit/80cacf6bf1a20261bf8382520ea9069b00e9fc01))
* skip failing AI rules, fix threshold validation ([020055f](https://github.com/Cogni-DAO/cogni-git-review/commit/020055f7d829e2f592d77c3d4f01cd618362ef7c))
* Split event handlers and add rerun support ([7a3792c](https://github.com/Cogni-DAO/cogni-git-review/commit/7a3792caab2d52039e0bd9884ff4a407a29407de))
* switch rerun handling from check_run to check_suite events ([794359f](https://github.com/Cogni-DAO/cogni-git-review/commit/794359f3ab17fa02e0dde9d41bf6a1de3a64f0c6))
* tests - convert mock-integration to harness pattern, expose rerun bug ([2d86597](https://github.com/Cogni-DAO/cogni-git-review/commit/2d86597d8f7e7ec15b642208d19a5fd03af4bd85))
* typo in spec-template ([f093e9d](https://github.com/Cogni-DAO/cogni-git-review/commit/f093e9dc709b27e53446494ee407648378ab775b))
* update check_suite.rerequested fixture to match real GitHub webhook format ([9c716a9](https://github.com/Cogni-DAO/cogni-git-review/commit/9c716a9a3f5dd57091d435b628785015d7b461c2))
* update ID of strict-pr-mapping rule ([c1f946f](https://github.com/Cogni-DAO/cogni-git-review/commit/c1f946fdc124edafc52a792d337f9ff4ad640309))
* update import assertion syntax from 'assert' to 'with' ([0be79e4](https://github.com/Cogni-DAO/cogni-git-review/commit/0be79e444d50f3fc2444d4e2f4a0b0599f8a5445))
* update name of jobs to Deploy (&lt;env&gt;) ([d157048](https://github.com/Cogni-DAO/cogni-git-review/commit/d157048dde883b61f2147dd8bddd3b57667098e6))
* update repo-spec to proper format. Update template too. ([3808577](https://github.com/Cogni-DAO/cogni-git-review/commit/38085771bff4d58d341a39167860bc482d347a53))
* update repo-spec to proper format. Update template too. I think my manual merge hurt the repo-spec earlier ([cf08bca](https://github.com/Cogni-DAO/cogni-git-review/commit/cf08bca3299ac3815138bfdfa4316707491341e6))
* update template repo-spec and ai-rule-spec file paths after template relocation ([6052d1a](https://github.com/Cogni-DAO/cogni-git-review/commit/6052d1a730fe41fff3a58d4ce9bb4918d1683652))
* update test expectations for missing spec behavior ([aa8a91e](https://github.com/Cogni-DAO/cogni-git-review/commit/aa8a91e81ef263e77f3e9db2a000c2586f1aeb5b))
* updating names of check vs PR review ([df23b0a](https://github.com/Cogni-DAO/cogni-git-review/commit/df23b0ae4ef9569859fe9d7d7fa1aa9225151a15))
* updating test fixture name responses. adding todo comment to check-rerun ([3a5f10e](https://github.com/Cogni-DAO/cogni-git-review/commit/3a5f10ef09bffc408693ce6b07b8608b334e8bf2))
* use PREVIEW_OPENAI_API_KEY and fix YAML formatting ([a01b2ae](https://github.com/Cogni-DAO/cogni-git-review/commit/a01b2aef8d6b1637bd2e2840263b9515fba99152))
* use preview-E2E-testing environment for branch access ([47ae083](https://github.com/Cogni-DAO/cogni-git-review/commit/47ae083015d53bc2efd589a1ee64b44f94314fe0))
* use Probot config loader and update test mocking ([21698b0](https://github.com/Cogni-DAO/cogni-git-review/commit/21698b0c87c1934e93f824b605f74af0bb1a3a9f))
* use working actionlint installation method in CI ([e8ab8b9](https://github.com/Cogni-DAO/cogni-git-review/commit/e8ab8b9127eba971ab7b32e8777b810b58c1cc36))
* use YAML block scalar for multi-line PRIVATE_KEY and quote env vars ([1cbd7e8](https://github.com/Cogni-DAO/cogni-git-review/commit/1cbd7e8c5f620adea77124d5b8d3d9fd823a0001))
* **wip:** app preview spec downloaded from digital ocean ([9ea49a9](https://github.com/Cogni-DAO/cogni-git-review/commit/9ea49a96dbd6b6f0591fc6b4f33c9e681688f13d))
* **wip:** rebased app.preview.yaml against successful app.prod.yaml from our successful pr. surgically changed just prod-&gt;preview values, and env var prefixes ([e1965f2](https://github.com/Cogni-DAO/cogni-git-review/commit/e1965f222b39136d5895f07e367e4d75b2163ab0))
* **WIP:** updated allstar config files based on direct installation guidance. still cant get allstar installed ([05798c7](https://github.com/Cogni-DAO/cogni-git-review/commit/05798c707800f7c071edba024a42b2756405e376))
* yaml linting error in rule update ([ddbce05](https://github.com/Cogni-DAO/cogni-git-review/commit/ddbce054c689d8bec2f241583ae1dd2b18456e72))
