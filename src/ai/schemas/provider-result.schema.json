{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://cogni.dao/schemas/provider-result.schema.json",
  "title": "AI Provider Result Schema",
  "description": "Schema for AI workflow evaluation results with provenance",
  "type": "object",
  "required": ["metrics", "summary", "provenance"],
  "additionalProperties": false,
  "properties": {
    "metrics": {
      "type": "object",
      "description": "Evaluation metrics - each metric has value and observations",
      "additionalProperties": {
        "type": "object",
        "properties": {
          "value": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "Metric value between 0 and 1"
          },
          "observations": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of specific observations for this metric"
          }
        },
        "required": ["value", "observations"],
        "additionalProperties": false
      },
      "minProperties": 1
    },
    "summary": {
      "type": "string",
      "description": "Brief explanation of the evaluation"
    },
    "provenance": {
      "type": "object",
      "description": "Execution metadata and tracking information",
      "required": ["runId", "durationMs", "providerVersion", "workflowId", "modelConfig"],
      "additionalProperties": false,
      "properties": {
        "runId": {
          "type": "string",
          "description": "Unique execution identifier"
        },
        "durationMs": {
          "type": "number",
          "minimum": 0,
          "description": "Execution duration in milliseconds"
        },
        "providerVersion": {
          "type": "string",
          "description": "AI provider version"
        },
        "workflowId": {
          "type": "string",
          "description": "Workflow identifier used for evaluation"
        },
        "modelConfig": {
          "type": "object",
          "description": "Model configuration used",
          "additionalProperties": true
        }
      }
    }
  }
}